# =============== H2 DATABASE ===============
# TODAS NECESARIAS para que H2 funcione
spring.datasource.url=jdbc:h2:mem:ecommercedb          # NECESARIO: URL de conexión
spring.datasource.driver-class-name=org.h2.Driver      # NECESARIO: Driver específico
spring.datasource.username=sa                          # NECESARIO: Usuario H2
spring.datasource.password=                            # NECESARIO: Password (vacío por defecto)

# =============== JPA/HIBERNATE ===============
spring.jpa.hibernate.ddl-auto=create-drop              # NECESARIO: Crea/elimina tablas automáticamente
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect  # RECOMENDADO: Dialecto específico H2
spring.jpa.defer-datasource-initialization=true        # CRÍTICO: Ejecuta data.sql DESPUÉS de crear tablas
spring.jpa.show-sql=true                               # RECOMENDADO: Muestra SQL en consola (debug)
spring.jpa.properties.hibernate.format_sql=true        # RECOMENDADO: Formatea SQL para lectura

# DEFAULT (no necesaria):
# spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# =============== SQL INITIALIZATION ===============
spring.sql.init.mode=always                            # NECESARIO: Siempre ejecuta scripts SQL
spring.sql.init.data-locations=classpath:data.sql      # NECESARIO: Ubicación de datos de prueba

# =============== H2 CONSOLE ===============
spring.h2.console.enabled=true                         # NECESARIO: Habilita interfaz web
spring.h2.console.path=/h2-console                     # NECESARIO: Ruta de la consola

# DEFAULTS (no necesarias):
# spring.h2.console.settings.trace=false
# spring.h2.console.settings.web-allow-others=false

# =============== LOGGING ===============
logging.level.com.federicotasso.ecommerce=DEBUG        # RECOMENDADO: Debug de TU código
logging.level.org.hibernate.SQL=DEBUG                  # RECOMENDADO: Ver queries SQL

# OPTIONAL (debug avanzado):
# logging.level.org.springframework.web=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# =============== CORS (opcional) ===============
# RECOMENDADO si usas frontend separado:
# spring.web.cors.allowed-origins=http://localhost:3000
# spring.web.cors.allowed-methods=GET,POST,PUT,DELETE